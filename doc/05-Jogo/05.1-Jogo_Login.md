# Login no Jogo

Este script controla a funcionalidade de login no jogo, permitindo que os jogadores acessem suas contas e salvem suas preferências de configuração.

## Funções Principais

### `_ready()`

Inicializa o script quando a cena é carregada. Verifica se é a primeira execução do jogo e carrega as configurações salvas se existirem.

### `_save()`

Função responsável por salvar as configurações do jogo, como se é a primeira execução, NIU (Identificação Única da Escola) e o nome da escola.

### `showPopup(title, text, textButton = "VOU TENTAR DENOVO!", conn = false)`

Exibe um popup na tela com um título e texto personalizados. Pode ser utilizado para informar erros de conexão ou outras mensagens importantes.

### `_on_button_pressed()`

Esconde o popup ao pressionar um botão específico na interface.

### `_on_notConnectionbutton_pressed()`

Redireciona o jogador para a tela de seleção de níveis ao pressionar um botão após um erro de conexão.

### `_on_button_form_pressed()`

Reproduz um som ao pressionar um botão na interface de login.

### `_on_button_popup_pressed()`

Reproduz um som ao pressionar um botão no popup exibido.

### `_on_ano_1_pressed()`, `_on_ano_2_pressed()`, `_on_ano_3_pressed()`

Configura a categoria de questões (ano) selecionada pelo jogador e muda para a cena de seleção de níveis.

### `_on_sair_pressed()`

Fecha o jogo ao pressionar o botão "Sair".

### `_on_http_request_request_completed(_result, response_code, _headers, body)`

Callback que é chamado quando uma requisição HTTP é completada. Verifica se o código de resposta é 200 (sucesso) para encontrar o NIU da escola e salvar as informações da escola localmente.

### `checkNIU(values)`

Realiza uma requisição HTTP para verificar o NIU da escola utilizando um valor fornecido como parâmetro.

### `_on_confirm_pressed()`

Verifica e envia o NIU inserido pelo jogador para a função `checkNIU()`.

### `_on_voltar_pressed()`

Volta para a tela de seleção de login ao pressionar o botão "Voltar".

## Variáveis Principais

- `notConnection`: Booleano que indica se há erro de conexão.
- `config`: Instância de `ConfigFile` para carregar e salvar configurações.
- `isFirstRun`: Booleano que indica se é a primeira execução do jogo.
- `domain`: Instância para acessar o domínio de leitura.
- `niu`: Armazena o NIU inserido pelo jogador.
- `nomeEscola`: Armazena o nome da escola após a verificação do NIU.

Este script permite que os jogadores se autentiquem e mantenham suas preferências salvas localmente para uma experiência personalizada no jogo.

# Form de Login

Este script controla a funcionalidade de login no jogo, permitindo que os jogadores acessem suas contas utilizando diferentes perfis (aluno, professor, escola).

## Funções Principais

### `_ready()`

Inicializa o script quando a cena é carregada. Configura o estado inicial do jogo e imprime a variável global `Globals.acesso`.

### `_process(delta)`

Atualiza o estado do Caps Lock durante o jogo baseado na entrada do teclado.

### `_input(event)`

Chamado quando ocorre uma entrada de usuário. Verifica o estado do Caps Lock durante a digitação.

### `_on_button_pressed()`

Inicia o processo de autenticação ao pressionar o botão de login. Realiza uma requisição HTTP para enviar as credenciais do usuário ao servidor.

### `getInputValues()`

Retorna um dicionário contendo o login e a senha inseridos pelo jogador na interface.

### `_on_http_request_request_completed(_result, response_code, _headers, body)`

Callback chamado quando a requisição HTTP é completada. Lida com diferentes códigos de resposta do servidor, como sucesso, erro de credenciais, ou problemas de conexão.

### `_on_input_text_changed(new_text)`, `_on_input_text_changed_login(new_text)`

Callbacks que são acionadas quando o texto do campo de entrada de texto é alterado. Chamam a função `checkTextBox()` para verificar o estado do Caps Lock.

### `_on_eye_pressed()`

Mostra ou oculta a senha digitada ao pressionar o ícone de olho.

### `_on_aluno_pressed()`, `_on_professor_pressed()`, `_on_escola_pressed()`

Callbacks para os botões que mudam o perfil de login para aluno, professor ou escola. Exibem o formulário de login correspondente e preenchem os campos automaticamente se `isTest` for verdadeiro.

## Variáveis Principais

- `dataFile`: Arquivo de dados exportado para JSON.
- `caps_lock_state`: Booleano que indica o estado do Caps Lock.
- `text`: Último caractere digitado.
- `domain`: Instância para acessar o domínio de leitura.
- `isTest`: Booleano que controla se os campos de login são preenchidos automaticamente para testes.

Este script facilita o login dos jogadores e a transição para diferentes cenários no jogo com base no perfil de acesso selecionado.
